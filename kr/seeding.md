# Database: Seeding
# 데이터베이스: 시딩

- [Introduction](#introduction)
- [시작하기](#introduction)
- [Writing Seeders](#writing-seeders)
- [Seeders 작성하기](#writing-seeders)
    - [Using Model Factories](#using-model-factories)
    - [모델 팩토리 사용하기](#using-model-factories)
    - [Calling Additional Seeders](#calling-additional-seeders)
    - [추가적인 Seeder 호출하기](#calling-additional-seeders)
    - [Muting Model Events](#muting-model-events)
    - [모델 이벤트 처리되지 않게 하기](#muting-model-events)
- [Running Seeders](#running-seeders)
- [Seeders 실행하기](#running-seeders)

<a name="introduction"></a>
## Introduction
## 시작하기

Laravel includes the ability to seed your database with data using seed classes. All seed classes are stored in the `database/seeders` directory. By default, a `DatabaseSeeder` class is defined for you. From this class, you may use the `call` method to run other seed classes, allowing you to control the seeding order.

라라벨에는 시드 클래스를 사용하여 데이터로 데이터베이스를 시드하는 기능이 포함되어 있습니다. 모든 시드 클래스는 `database/seeders` 디렉토리에 저장됩니다. 기본적으로 `DatabaseSeeder` 클래스가 정의되어 있습니다. 이 클래스에서 `call` 메소드를 사용하여 다른 시드 클래스를 실행할 수 있으므로 시드 순서를 제어할 수 있습니다.

> {tip} [Mass assignment protection](/docs/{{version}}/eloquent#mass-assignment) is automatically disabled during database seeding.

> {tip} [대량 할당 보호](/docs/{{version}}/eloquent#mass-assignment)는 데이터베이스 시딩 중에 자동으로 비활성화됩니다.

<a name="writing-seeders"></a>
## Writing Seeders
## Seeder 작성하기

To generate a seeder, execute the `make:seeder` [Artisan command](/docs/{{version}}/artisan). All seeders generated by the framework will be placed in the `database/seeders` directory:

seeder를 생성하기 위해서는, `make:seeder` [아티즌 명령어](/docs/{{version}}/artisan)를 실행하면 됩니다. 프레임워크에 의해서 생성된 모든 seeder들은 `database/seeders` 디렉토리에 위치할 것입니다.

```shell
php artisan make:seeder UserSeeder
```

A seeder class only contains one method by default: `run`. This method is called when the `db:seed` [Artisan command](/docs/{{version}}/artisan) is executed. Within the `run` method, you may insert data into your database however you wish. You may use the [query builder](/docs/{{version}}/queries) to manually insert data or you may use [Eloquent model factories](/docs/{{version}}/database-testing#defining-model-factories).

시더 클래스에는 기본적으로 `run`이라는 하나의 메소드만 포함됩니다. 이 메소드는 `db:seed` [Artisan command](/docs/{{version}}/artisan)이 실행될 때 호출됩니다. `run` 메소드 내에서 원하는 대로 데이터베이스에 데이터를 삽입할 수 있습니다. [쿼리 빌더](/docs/{{version}}/queries)를 사용하여 수동으로 데이터를 삽입하거나 [Eloquent 모델 팩토리](/docs/{{version}}/database-testing#defining-model-factories)를 사용할 수 있습니다.

As an example, let's modify the default `DatabaseSeeder` class and add a database insert statement to the `run` method:

다음 예제에서, `DatabaseSeeder` 클래스를 수정해서 `run` 메소드에 입력 구문을 추가해보겠습니다. 

    <?php

    namespace Database\Seeders;

    use Illuminate\Database\Seeder;
    use Illuminate\Support\Facades\DB;
    use Illuminate\Support\Facades\Hash;
    use Illuminate\Support\Str;

    class DatabaseSeeder extends Seeder
    {
        /**
         * Run the database seeders.
         *
         * @return void
         */
        public function run()
        {
            DB::table('users')->insert([
                'name' => Str::random(10),
                'email' => Str::random(10).'@gmail.com',
                'password' => Hash::make('password'),
            ]);
        }
    }

> {tip} You may type-hint any dependencies you need within the `run` method's signature. They will automatically be resolved via the Laravel [service container](/docs/{{version}}/container).

> {tip} `run` 메소드에 필요한 모든 의존성의 타입힌트를 지정할 수 있습니다. 이 의존성은 Laravel [서비스 컨테이너](/docs/{{version}}/container)를 통해 자동으로 처리됩니다.

<a name="using-model-factories"></a>
### Using Model Factories
### 모델 팩토리 사용하기

Of course, manually specifying the attributes for each model seed is cumbersome. Instead, you can use [model factories](/docs/{{version}}/database-testing#defining-model-factories) to conveniently generate large amounts of database records. First, review the [model factory documentation](/docs/{{version}}/database-testing#defining-model-factories) to learn how to define your factories.

물론 각 모델 시드의 속성을 수동으로 지정하는 것은 번거롭습니다. 대신 [모델 팩토리](/docs/{{version}}/database-testing#defining-model-factories)를 사용하여 대량의 데이터베이스 레코드를 편리하게 생성할 수 있습니다. 먼저 [모델 팩토리 문서](/docs/{{version}}/database-testing#defining-model-factories)를 검토하여 팩토리를 정의하는 방법을 알아보세요.

For example, let's create 50 users that each has one related post:

예를 들어, 각각 관련 게시물이 하나씩 있는 50명의 사용자를 생성해 보겠습니다.

    use App\Models\User;

    /**
     * Run the database seeders.
     *
     * @return void
     */
    public function run()
    {
        User::factory()
                ->count(50)
                ->hasPosts(1)
                ->create();
    }

<a name="calling-additional-seeders"></a>
### Calling Additional Seeders
### 추가적인 Seeder 호출하기

Within the `DatabaseSeeder` class, you may use the `call` method to execute additional seed classes. Using the `call` method allows you to break up your database seeding into multiple files so that no single seeder class becomes too large. The `call` method accepts an array of seeder classes that should be executed:

`DatabaseSeeder` 클래스 내에서 `call` 메소드를 사용하여 추가 시드 클래스를 실행할 수 있습니다. `call` 메소드를 사용하면 단일 시드 클래스가 너무 커지지 않도록 데이터베이스 시드를 여러 파일로 나눌 수 있습니다. `call` 메소드는 실행되어야 하는 시드 클래스의 배열을 입력받습니다.

    /**
     * Run the database seeders.
     *
     * @return void
     */
    public function run()
    {
        $this->call([
            UserSeeder::class,
            PostSeeder::class,
            CommentSeeder::class,
        ]);
    }

<a name="muting-model-events"></a>
### Muting Model Events
### 모델 이벤트 처리되지 않게 하기

While running seeds, you may want to prevent models from dispatching events. You may achieve this using the `WithoutModelEvents` trait. When used, the `WithoutModelEvents` trait ensures no model events are dispatched, even if additional seed classes are executed via the `call` method:

시딩을 실행하는 동안, 모델 이벤트를 처리를 하지 않도록 할 수 있습니다. 이렇게 하려면 `WithoutModelEvents` 트레이트-trait을 사용하면 됩니다. `WithoutModelEvents` 트레이트-trait를 사용하면 `call` 메소드를 통해서 추가적인 시드 클래스가 실행되더라도 모델 이벤트가 처리되지 않습니다.

    <?php

    namespace Database\Seeders;

    use Illuminate\Database\Seeder;
    use Illuminate\Database\Console\Seeds\WithoutModelEvents;

    class DatabaseSeeder extends Seeder
    {
        use WithoutModelEvents;

        /**
         * Run the database seeders.
         *
         * @return void
         */
        public function run()
        {
            $this->call([
                UserSeeder::class,
            ]);
        }
    }

<a name="running-seeders"></a>
## Running Seeders
## Seeder 실행하기

You may execute the `db:seed` Artisan command to seed your database. By default, the `db:seed` command runs the `Database\Seeders\DatabaseSeeder` class, which may in turn invoke other seed classes. However, you may use the `--class` option to specify a specific seeder class to run individually:

`db:seed` Artisan 명령을 실행하여 데이터베이스를 시드할 수 있습니다. 기본적으로 `db:seed` 명령은 `Database\Seeders\DatabaseSeeder` 클래스를 실행하며, 이는 차례로 다른 시드 클래스를 호출할 수 있습니다. 그러나 `--class` 옵션을 사용하여 개별적으로 실행할 특정 시드 클래스를 지정할 수 있습니다.

```shell
php artisan db:seed

php artisan db:seed --class=UserSeeder
```

You may also seed your database using the `migrate:fresh` command in combination with the `--seed` option, which will drop all tables and re-run all of your migrations. This command is useful for completely re-building your database:

모든 테이블을 삭제하고 모든 마이그레이션을 다시 실행하는 `--seed` 옵션과 함께 `migrate:fresh` 명령을 사용하여 데이터베이스를 시드할 수도 있습니다. 이 명령은 데이터베이스를 완전히 재구축하는 데 유용합니다.

```shell
php artisan migrate:fresh --seed
```

<a name="forcing-seeding-production"></a>
#### Forcing Seeders To Run In Production
#### 프로덕션 환경에서 강제 시딩

Some seeding operations may cause you to alter or lose data. In order to protect you from running seeding commands against your production database, you will be prompted for confirmation before the seeders are executed in the `production` environment. To force the seeders to run without a prompt, use the `--force` flag:

일부 시딩 작업으로 인해 데이터가 변경되거나 손실될 수 있습니다. 프로덕션 데이터베이스에 대해 시드 명령을 실행하지 못하도록 보호하기 위해 `production` 환경에서 시드를 실행하기 전에 확인 메시지가 표시됩니다. 확인창 없이 시더를 강제 실행하려면 `--force` 플래그를 사용하세요.

```shell
php artisan db:seed --force
```
